<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Parallax Test</title>
  <link rel="stylesheet" href="css/style.css">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

	
	<script src="js/TweenMax.min.js"></script>
	<script src="js/jquery-2.1.1.min.js"></script>
	<script src="js/modernizr_custom.js"></script>
	<script src="js/iscroll-probe.js"></script>
	<script src="js/jquery.scrollmagic.min.js"></script>
	<script src="js/script.js"></script>
</head>
<body>

<div id="wrapper">
	
	<script type="text/javascript">
  		var controller;
  		if (Modernizr.touch) {
  			var myScroll;
  			$(document).ready(function () {
  				// wrap for iscroll
	  			$("#wrapper")
	  				.addClass("scrollContainer")
	  				.wrapInner('<div class="scrollContent"></div>');

	  			// add iScroll
  				myScroll = new IScroll('#wrapper', {scrollX: false, scrollY: true, scrollbars: true, useTransform: false, useTransition: false, probeType: 3, click: true});
				
  				// update container on scroll
				myScroll.on("scroll", function () {
					controller.update();
				});

				// overwrite scroll position calculation to use child's offset instead of parents scrollTop();
				controller.scrollPos(function () {
					return -myScroll.y;
				});

				// refresh height, so all is included.
				setTimeout(function () {
				    myScroll.refresh();
				}, 0);

				document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);


  			});
  			// init the controller
  			controller = new ScrollMagic({
	  			container: "#wrapper",
	  			globalSceneOptions: {
	  				triggerHook: "onEnter", 
  					duration: $(window).height()*2
	  			}
	  		});
  		} else {
  			// init the controller
	  		controller = new ScrollMagic({
  				globalSceneOptions: {
  					triggerHook: "onEnter", 
  					duration: $(window).height()*2
  				}
  			});
  		}

  	</script>


	<section id="top">
		<h1>I am a top section.</h1>
	</section>

	<section class="text" id="text1">
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem quibusdam ratione laborum possimus necessitatibus quia, modi dicta optio ducimus, aut impedit debitis suscipit aliquam itaque nam reprehenderit nulla velit voluptates.</p>
		<p>Doloremque cum voluptates quae minus enim similique laboriosam molestiae repellat, ipsum quisquam voluptatum eius autem. Quibusdam facere odit sunt maxime, sed ullam sequi incidunt quod. Distinctio possimus aut, nam praesentium.</p>
		<p>Illum ipsum quod, quae sint necessitatibus, doloribus ex unde. Tempora voluptates, nulla asperiores expedita assumenda hic! Saepe asperiores inventore ullam consequatur architecto dicta pariatur, reprehenderit odit eius alias. Et, quos.</p>
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Reiciendis voluptate dolor, nostrum rem qui officia temporibus culpa hic porro. Recusandae rem facere qui illo reprehenderit, iusto et blanditiis at nihil.</p>
	</section>

	<section class="banner two">
		<h3>Section Title</h3>
	</section>

	<section class="slide" id="slide1">
		<div class="slider">
			<img src="img/photo1.png">
			<div class="caption">caption caption caption caption caption</div>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laboriosam perferendis a deleniti magni, velit nostrum mollitia veritatis voluptatibus, reiciendis enim. Quis nemo a reprehenderit iure unde necessitatibus, cupiditate alias rem.</p>
		</div>
	</section>

	<section class="text" id="text2">
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem quibusdam ratione laborum possimus necessitatibus quia, modi dicta optio ducimus, aut impedit debitis suscipit aliquam itaque nam reprehenderit nulla velit voluptates.</p>
		<p>Doloremque cum voluptates quae minus enim similique laboriosam molestiae repellat, ipsum quisquam voluptatum eius autem. Quibusdam facere odit sunt maxime, sed ullam sequi incidunt quod. Distinctio possimus aut, nam praesentium.</p>
		<p>Illum ipsum quod, quae sint necessitatibus, doloribus ex unde. Tempora voluptates, nulla asperiores expedita assumenda hic! Saepe asperiores inventore ullam consequatur architecto dicta pariatur, reprehenderit odit eius alias. Et, quos.</p>
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vitae provident ipsam possimus eligendi sapiente ipsum nemo nobis harum et, praesentium modi adipisci molestias illo dolorum unde, nam aperiam repudiandae officiis.</p>
	</section>

	<section class="banner">
		<h3>Section Title</h3>
	</section>

	<section class="slide" id="slide2">
		<img src="img/photo2.png">
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Laboriosam perferendis a deleniti magni, velit nostrum mollitia veritatis voluptatibus, reiciendis enim. Quis nemo a reprehenderit iure unde necessitatibus, cupiditate alias rem.</p>
	</section>

	<div class="caption2">caption caption caption caption caption</div>

	<section class="text" id="text3">
		<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorem quibusdam ratione laborum possimus necessitatibus quia, modi dicta optio ducimus, aut impedit debitis suscipit aliquam itaque nam reprehenderit nulla velit voluptates.</p>
		<p>Doloremque cum voluptates quae minus enim similique laboriosam molestiae repellat, ipsum quisquam voluptatum eius autem. Quibusdam facere odit sunt maxime, sed ullam sequi incidunt quod. Distinctio possimus aut, nam praesentium.</p>
		<p>Illum ipsum quod, quae sint necessitatibus, doloribus ex unde. Tempora voluptates, nulla asperiores expedita assumenda hic! Saepe asperiores inventore ullam consequatur architecto dicta pariatur, reprehenderit odit eius alias. Et, quos.</p>
	</section>

	<footer>
		<h1>this is the footer</h1>
	</footer>

</div>

 	
</body>
</html>
